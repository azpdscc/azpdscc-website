rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // --- COLLECTIONS ---
    // Allow public read access to most content.
    // For now, allow writes from the application server.
    // SECURE THIS before going to production by changing `allow write` to `if request.auth != null;`
    // and implementing full server-side Firebase Admin authentication.
    match /{document=**} {
      allow read: if true;
      allow write: if true; // WARNING: Insecure for production. Change to `if request.auth != null;`
    }

    // Example of a more secure rule for a specific collection
    // match /subscribers/{subscriberId} {
    //   allow read: if request.auth != null; // Only admins can read subscriber list
    //   allow create: if true; // Anyone can subscribe
    //   allow update, delete: if request.auth != null; // Only admins can manage subscribers
    // }
  }
}
